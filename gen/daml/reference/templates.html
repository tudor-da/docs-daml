<!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Reference: templates &mdash; Daml SDK __VERSION__ documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
  
  <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/copybutton.js"></script>
  
  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="next" title="Reference: choices" href="choices.html" />
  <link rel="prev" title="Overview: template structure" href="structure.html" /> 

  
  <link rel="icon" type="image/svg+xml"  href="../../_static/images/daml-logo-mark-light.svg">
  <link rel="alternate icon" href="../../_static/images/daml-favicon-1.ico">

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MSWJMNX');</script>
  <!-- End Google Tag Manager -->

  
  <!-- Mopinion Pastea.se  start --><script type="text/javascript">(function(){var id="4s6vwov7ad6qyxhq8iwbyhocrsn2nm36k25";var js=document.createElement("script");js.setAttribute("type","text/javascript");js.setAttribute("src","//deploy.mopinion.com/js/pastease.js");js.async=true;document.getElementsByTagName("head")[0].appendChild(js);var t=setInterval(function(){try{new Pastease.load(id);clearInterval(t)}catch(e){}},50)})();</script><!-- Mopinion Pastea.se end -->
</head>

<body class="wy-body-for-nav">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MSWJMNX"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-nav-side-shadow"></div>
      <div class="wy-side-scroll">

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
          
          
          
          
          
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Daml Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/installation.html">Installing the SDK</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/path-variables.html">Setting JAVA_HOME and PATH variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/manual-download.html">Manually installing the SDK</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Building Your App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/app-architecture.html">App Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/first-feature.html">Your First Feature</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.daml.com/cheat-sheet">Cheat Sheet</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Daml</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/0_Intro.html">An introduction to Daml</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/1_Token.html">1 Basic contracts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/2_DamlScript.html">2 Testing templates using Daml Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/3_Data.html">3 Data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/4_Transformations.html">4 Transforming data using choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/5_Restrictions.html">5 Adding constraints to a contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/6_Parties.html">6 Parties and authority</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/7_Composing.html">7 Composing choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/8_Exceptions.html">8 Exception Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/9_Dependencies.html">9 Working with Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/10_Functional101.html">10 Functional Programming 101</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/11_StdLib.html">11 Intro to the Daml Standard Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/12_Testing.html">12 Testing Daml Contracts</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Language reference docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="structure.html">Overview: template structure</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="choices.html">Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="updates.html">Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-types.html">Data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="working-with.html">Built-in functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="expressions.html">Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="scenarios.html">Scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="file-structure.html">File structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="packages.html">Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="contract-keys.html">Contract keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns.html">Good design patterns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../patterns/initaccept.html">Initiate and Accept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/multiparty-agreement.html">Multiple party agreement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/delegation.html">Delegation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/authorization.html">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/locking.html">Locking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../patterns/locking/locking-by-archiving.html">Locking by archiving</a></li>
<li class="toctree-l3"><a class="reference internal" href="../patterns/locking/locking-by-state.html">Locking by state</a></li>
<li class="toctree-l3"><a class="reference internal" href="../patterns/locking/locking-by-safekeeping.html">Locking by safekeeping</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/legends.html">Diagram legends</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Building applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/app-arch.html">Application architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-ts/index.html">JavaScript Client Libraries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-ts/daml2js.html">JavaScript Code Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-ts/daml-react.html">&#64;daml/react</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-ts/daml-ledger.html">&#64;daml/ledger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-ts/daml-types.html">&#64;daml/types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-ts/testing.html">Testing Your Web App</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/index.html">HTTP JSON API Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../json-api/lf-value-specification.html">Daml-LF JSON Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../json-api/search-query-language.html">Query language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../json-api/production-setup.html">Production Setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-script/index.html">Daml Script</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-repl/index.html">Daml REPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrade/index.html">Upgrading and Extending Daml applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/extend.html">Extending Daml applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/upgrade.html">Upgrading Daml applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/automation.html">Automating the Upgrade Process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/authorization.html">Authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/ledger-api.html">The Ledger API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/services.html">The Ledger API services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/grpc/index.html">gRPC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/grpc/error-codes.html">Error Codes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/grpc/daml-to-ledger-api.html">How Daml types are translated to protobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/daml-lf-translation.html">How Daml types are translated to Daml-LF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-java/index.html">Java bindings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/bindings-java/codegen.html">Generate Java code from Daml</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/bindings-java/example.html">Ping Pong Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/bindings-java/quickstart.html">Iou Quickstart Tutorial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-scala/index.html">Scala bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-js.html">Node.js bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-x-lang/index.html">Creating your own bindings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../triggers/index.html">Daml Triggers - Off-Ledger Automation in Daml</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/trigger-service/index.html">Trigger Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/trigger-service/authorization.html">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/trigger-service/auth0_example.html">Auth0 Example Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/auth-middleware/index.html">Auth Middleware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/auth-middleware/oauth2.html">OAuth 2.0 Auth Middleware</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Deploying to Daml ledgers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/index.html">Overview of Daml ledgers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/generic_ledger.html">Deploying to a generic Daml ledger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/ledger-topologies.html">Daml Ledger Topologies</a></li>
</ul>
<p class="caption"><span class="caption-text">Operating Daml</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ops/index.html">Daml Participant pruning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ops/connect/index.html">Operating Daml Connect</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ops/connect/helm.html">Connect Helm Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ops/connect/auth0.html">Setting Up Auth0</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/assistant.html">Daml Assistant (<code class="docutils literal notranslate"><span class="pre">daml</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../daml-studio.html">Daml Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/sandbox.html">Daml Sandbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/navigator/index.html">Navigator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/codegen.html">Daml codegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/profiler.html">Daml Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">Background concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/glossary.html">Glossary of concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/ledger-model/index.html">Daml Ledger Model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-structure.html">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-integrity.html">Integrity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-privacy.html">Privacy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-daml.html">Daml: Defining Contract Models Compactly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/identity-and-package-management.html">Identity and Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/time.html">Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/local-ledger.html">Causality and Local Ledgers</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://daml.com/examples">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Early Access Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/extractor.html">Extractor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/export/index.html">Ledger Export</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-integration-kit/index.html">Daml Integration Kit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/ledger-api-test-tool/index.html">Ledger API Test Tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/visual.html">Visualizing Daml Contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/interoperability.html">Ledger Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/non-repudiation.html">Non-repudiation</a></li>
</ul>
<p class="caption"><span class="caption-text">Daml Ecosystem</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../support/overview.html">Daml Ecosystem Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../support/status-definitions.html">Status Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../support/component-statuses.html">Feature and Component Statuses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../support/releases.html">Releases and Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/compatibility.html">Portability, Compatibility, and Support Durations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/support.html">Getting Help</a></li>
</ul>

          
          
          
          <div class="pdf-download"><a href="../../_downloads/DigitalAssetSDK.pdf" download>Download as PDF</a></div>
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <div class="topbar fixed">
        
        <nav class="wy-nav-top" aria-label="top navigation">
          
          <i data-toggle="wy-nav-top" class="wy-nav-top-toggle"></i>
          
        </nav>
        <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="navbar">
    <h1><img src="../../_static/images/DAML_Logo_Blue.svg"></h1>
    <div class="navbar-menu">
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.daml.com/" role="menuitem" class="da-menu-link">Developers</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com/products" role="menuitem" class="da-menu-link">Products</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com" role="menuitem" class="da-menu-link">Company</a>
        </div>
    </div>
</div>

        <div class="version ">
          <span class="hide-mobile">Version&nbsp;</span><span class="version_switcher_placeholder"></span>
          
        </div>


        <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->
<div class="search-inline">
    <div id="rtd-search-inline-form" class="wy-form">
        <input type="text" class="search-inline-input" placeholder="Search" name="q">
        <img src="../../_static/images/Search.svg" class="search-inline-img"/>
    </div>
    <div class="search-alert">
        Please enter at least 3 letters.
    </div>
    <div id="search-inline-results" class="search-inline-results">
        
    </div>
</div>
          <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="content-menu collapsed">
    <span class="content-menu-title">In This Section</span>
    <span class="content-menu-expand"></span>
    <div class="content-menu-wrapper">
        
        <!-- Local TOC -->
        <div class="content-menu-toc"><ul>
<li><a class="reference internal" href="#">Reference: templates</a><ul>
<li><a class="reference internal" href="#template-name">Template name</a></li>
<li><a class="reference internal" href="#template-parameters">Template parameters</a></li>
<li><a class="reference internal" href="#template-local-definitions">Template-local Definitions</a></li>
<li><a class="reference internal" href="#signatory-parties">Signatory parties</a></li>
<li><a class="reference internal" href="#observers">Observers</a></li>
<li><a class="reference internal" href="#choices">Choices</a></li>
<li><a class="reference internal" href="#agreements">Agreements</a></li>
<li><a class="reference internal" href="#preconditions">Preconditions</a></li>
<li><a class="reference internal" href="#contract-keys-and-maintainers">Contract keys and maintainers</a></li>
</ul>
</li>
</ul>
</div>
        
    </div>
</div>
        

      </div>
      <div class="wy-nav-content">
        
        <div class="rst-content">
          
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div itemprop="articleBody">
                
  <div class="section" id="reference-templates">
<h1>Reference: templates<a class="headerlink" href="#reference-templates" title="Permalink to this headline">¶</a></h1>
<p>This page gives reference information on templates:</p>
<p>For the structure of a template, see <a class="reference internal" href="structure.html"><span class="doc">Overview: template structure</span></a>.</p>
<div class="section" id="template-name">
<span id="daml-ref-template-name"></span><h2>Template name<a class="headerlink" href="#template-name" title="Permalink to this headline">¶</a></h2>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="kr">template</span> <span class="kt">NameOfTemplate</span>
</pre></div>
</div>
<ul class="simple">
<li>This is the name of the template. It’s preceded by <code class="docutils literal notranslate"><span class="pre">template</span></code> keyword. Must begin with a capital letter.</li>
<li>This is the highest level of nesting.</li>
<li>The name is used when <a class="reference internal" href="updates.html#daml-ref-create"><span class="std std-ref">creating</span></a> a contract of this template (usually, from within a choice).</li>
</ul>
</div>
<div class="section" id="template-parameters">
<span id="daml-ref-template-parameters"></span><h2>Template parameters<a class="headerlink" href="#template-parameters" title="Permalink to this headline">¶</a></h2>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span>  <span class="kr">with</span>
    <span class="n">exampleParty</span> <span class="kt">:</span> <span class="kt">Party</span>
    <span class="n">exampleParty2</span> <span class="kt">:</span> <span class="kt">Party</span>
    <span class="n">exampleParty3</span> <span class="kt">:</span> <span class="kt">Party</span>
    <span class="n">exampleParam</span> <span class="kt">:</span> <span class="kt">Text</span>
    <span class="c1">-- more parameters here</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">with</span></code> keyword. The parameters are in the form of a <a class="reference internal" href="data-types.html#daml-ref-record-types"><span class="std std-ref">record type</span></a>.</li>
<li>Passed in when <a class="reference internal" href="updates.html#daml-ref-create"><span class="std std-ref">creating</span></a> a contract from this template. These are then in scope inside the template body.</li>
<li>A template parameter can’t have the same name as any <a class="reference internal" href="choices.html#daml-ref-choice-arguments"><span class="std std-ref">choice arguments</span></a> inside the template.</li>
<li>For all parties involved in the contract (whether they’re a <code class="docutils literal notranslate"><span class="pre">signatory</span></code>, <code class="docutils literal notranslate"><span class="pre">observer</span></code>, or <code class="docutils literal notranslate"><span class="pre">controller</span></code>) you must pass them in as parameters to the contract, whether individually or as a list (<code class="docutils literal notranslate"><span class="pre">[Party]</span></code>).</li>
</ul>
</div>
<div class="section" id="template-local-definitions">
<span id="daml-ref-template-let"></span><h2>Template-local Definitions<a class="headerlink" href="#template-local-definitions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span>  <span class="kr">where</span>
    <span class="kr">let</span>
      <span class="n">allParties</span> <span class="ow">=</span> <span class="p">[</span><span class="n">exampleParty</span><span class="p">,</span> <span class="n">exampleParty2</span><span class="p">,</span> <span class="n">exampleParty3</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">let</span></code> keyword. Starts a block and is followed by any number of definitions, just like any other <code class="docutils literal notranslate"><span class="pre">let</span></code> block.</li>
<li>Template parameters as well as <code class="docutils literal notranslate"><span class="pre">this</span></code> are in scope, but <code class="docutils literal notranslate"><span class="pre">self</span></code> is not.</li>
<li>Definitions from the <code class="docutils literal notranslate"><span class="pre">let</span></code> block can be used anywhere else in the template’s <code class="docutils literal notranslate"><span class="pre">where</span></code> block.</li>
</ul>
</div>
<div class="section" id="signatory-parties">
<span id="daml-ref-signatories"></span><h2>Signatory parties<a class="headerlink" href="#signatory-parties" title="Permalink to this headline">¶</a></h2>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span>    <span class="kr">signatory</span> <span class="n">exampleParty</span>
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">signatory</span></code> keyword. After <code class="docutils literal notranslate"><span class="pre">where</span></code>. Followed by at least one <code class="docutils literal notranslate"><span class="pre">Party</span></code>.</p>
</li>
<li><p class="first">Signatories are the parties (see the <code class="docutils literal notranslate"><span class="pre">Party</span></code> type) who must consent to the creation of this contract. They are the parties who would be put into an <em>obligable position</em> when this contract is created.</p>
<p>Daml won’t let you put someone into an obligable position without their consent. So if the contract will cause obligations for a party, they <em>must</em> be a signatory. <strong>If they haven’t authorized it, you won’t be able to create the contract.</strong> In this situation, you may see errors like:</p>
<p><code class="docutils literal notranslate"><span class="pre">NameOfTemplate</span> <span class="pre">requires</span> <span class="pre">authorizers</span> <span class="pre">Party1,Party2,Party,</span> <span class="pre">but</span> <span class="pre">only</span> <span class="pre">Party1</span> <span class="pre">were</span> <span class="pre">given.</span></code></p>
</li>
<li><p class="first">When a signatory consents to the contract creation, this means they also authorize the consequences of <a class="reference internal" href="#daml-ref-choices"><span class="std std-ref">choices</span></a> that can be exercised on this contract.</p>
</li>
<li><p class="first">The contract is visible to all signatories (as well as the other stakeholders of the contract). That is, the compiler automatically adds signatories as observers.</p>
</li>
<li><p class="first">Each template <strong>must</strong> have at least one signatory. A signatory declaration consists of the <cite>signatory</cite> keyword followed by a comma-separated list of one or more expressions, each expression denoting a <code class="docutils literal notranslate"><span class="pre">Party</span></code> or collection thereof.</p>
</li>
</ul>
</div>
<div class="section" id="observers">
<span id="daml-ref-observers"></span><h2>Observers<a class="headerlink" href="#observers" title="Permalink to this headline">¶</a></h2>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span>    <span class="kr">observer</span> <span class="n">exampleParty2</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">observer</span></code> keyword. After <code class="docutils literal notranslate"><span class="pre">where</span></code>. Followed by at least one <code class="docutils literal notranslate"><span class="pre">Party</span></code>.</li>
<li>Observers are additional stakeholders, so the contract is visible to these parties (see the <code class="docutils literal notranslate"><span class="pre">Party</span></code> type).</li>
<li>Optional. You can have many, either as a comma-separated list or reusing the keyword. You could pass in a list (of type <code class="docutils literal notranslate"><span class="pre">[Party]</span></code>).</li>
<li>Use when a party needs visibility on a contract, or be informed or contract events, but is not a <a class="reference internal" href="#daml-ref-signatories"><span class="std std-ref">signatory</span></a> or <a class="reference internal" href="choices.html#daml-ref-controllers"><span class="std std-ref">controller</span></a>.</li>
<li>If you start your choice with <code class="docutils literal notranslate"><span class="pre">choice</span></code> rather than <code class="docutils literal notranslate"><span class="pre">controller</span></code> (see <a class="reference internal" href="#daml-ref-choices"><span class="std std-ref">Choices</span></a> below), you must make sure to add any potential controller as an observer. Otherwise, they will not be able to exercise the choice, because they won’t be able to see the contract.</li>
</ul>
</div>
<div class="section" id="choices">
<span id="daml-ref-choices"></span><h2>Choices<a class="headerlink" href="#choices" title="Permalink to this headline">¶</a></h2>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span>    <span class="c1">-- option 1 for specifying choices: choice name first</span>
    <span class="n">choice</span> <span class="kt">NameOfChoice1</span>
          <span class="kt">:</span> <span class="nb">()</span>  <span class="c1">-- replace () with the actual return type</span>
        <span class="kr">with</span>
          <span class="n">exampleParameter</span> <span class="kt">:</span> <span class="kt">Text</span> <span class="c1">-- parameters here</span>
      <span class="kr">controller</span> <span class="n">exampleParty</span>
        <span class="kr">do</span>
          <span class="kr">return</span> <span class="nb">()</span> <span class="c1">-- replace this line with the choice body</span>

    <span class="c1">-- option 2 for specifying choices: controller first</span>
    <span class="kr">controller</span> <span class="n">exampleParty</span> <span class="kr">can</span>
      <span class="kt">NameOfChoice2</span>
          <span class="kt">:</span> <span class="nb">()</span> <span class="c1">-- replace () with the actual return type</span>
        <span class="kr">with</span>
          <span class="n">exampleParameter</span> <span class="kt">:</span> <span class="kt">Text</span> <span class="c1">-- parameters here</span>
        <span class="kr">do</span>
          <span class="kr">return</span> <span class="nb">()</span> <span class="c1">-- replace this line with the choice body</span>
      <span class="kr">nonconsuming</span> <span class="kt">NameOfChoice3</span>
          <span class="kt">:</span> <span class="nb">()</span>  <span class="c1">-- replace () with the actual return type</span>
        <span class="kr">with</span>
          <span class="n">exampleParameter</span> <span class="kt">:</span> <span class="kt">Text</span> <span class="c1">-- parameters here</span>
        <span class="kr">do</span>
          <span class="kr">return</span> <span class="nb">()</span> <span class="c1">-- replace this line with the choice body</span>
</pre></div>
</div>
<ul>
<li><p class="first">A right that the contract gives the controlling party. Can be <em>exercised</em>.</p>
</li>
<li><p class="first">This is essentially where all the logic of the template goes.</p>
</li>
<li><p class="first">By default, choices are <em>consuming</em>: that is, exercising the choice archives the contract, so no further choices can be exercised on it. You can make a choice non-consuming using the <code class="docutils literal notranslate"><span class="pre">nonconsuming</span></code> keyword.</p>
</li>
<li><p class="first">There are two ways of specifying a choice: start with the <code class="docutils literal notranslate"><span class="pre">choice</span></code> keyword or start with the <code class="docutils literal notranslate"><span class="pre">controller</span></code> keyword.</p>
<p>Starting with <code class="docutils literal notranslate"><span class="pre">choice</span></code> lets you pass in a <code class="docutils literal notranslate"><span class="pre">Party</span></code> to use as a controller. But you must make sure to add that party as an <code class="docutils literal notranslate"><span class="pre">observer</span></code>.</p>
</li>
<li><p class="first">See <a class="reference internal" href="choices.html"><span class="doc">Reference: choices</span></a> for full reference information.</p>
</li>
</ul>
</div>
<div class="section" id="agreements">
<span id="daml-ref-agreements"></span><h2>Agreements<a class="headerlink" href="#agreements" title="Permalink to this headline">¶</a></h2>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span>    <span class="kr">agreement</span>
      <span class="c1">-- text representing the contract</span>
      <span class="s">&quot;&quot;</span>
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">agreement</span></code> keyword, followed by text.</p>
</li>
<li><p class="first">Represents what the contract means in text. They’re usually the boundary between on-ledger and off-ledger rights and obligations.</p>
</li>
<li><p class="first">Usually, they look like <code class="docutils literal notranslate"><span class="pre">agreement</span> <span class="pre">tx</span></code>, where <code class="docutils literal notranslate"><span class="pre">tx</span></code> is of type <code class="docutils literal notranslate"><span class="pre">Text</span></code>.</p>
<p>You can use the built-in operator <code class="docutils literal notranslate"><span class="pre">show</span></code> to convert party names to a string, and concatenate with <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code> .</p>
</li>
</ul>
</div>
<div class="section" id="preconditions">
<span id="daml-ref-preconditions"></span><h2>Preconditions<a class="headerlink" href="#preconditions" title="Permalink to this headline">¶</a></h2>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span>    <span class="kr">ensure</span>
      <span class="kc">True</span> <span class="c1">-- a boolean condition goes here</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">ensure</span></code> keyword, followed by a boolean condition.</li>
<li>Used on contract creation. <code class="docutils literal notranslate"><span class="pre">ensure</span></code> limits the values on parameters that can be passed to the contract: the contract can only be created if the boolean condition is true.</li>
</ul>
</div>
<div class="section" id="contract-keys-and-maintainers">
<span id="daml-ref-maintainers"></span><span id="daml-ref-contract-keys"></span><h2>Contract keys and maintainers<a class="headerlink" href="#contract-keys-and-maintainers" title="Permalink to this headline">¶</a></h2>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span>    <span class="n">key</span> <span class="p">(</span><span class="n">exampleParty</span><span class="p">,</span> <span class="n">exampleParam</span><span class="p">)</span> <span class="kt">:</span> <span class="p">(</span><span class="kt">Party</span><span class="p">,</span> <span class="kt">Text</span><span class="p">)</span>
    <span class="n">maintainer</span> <span class="p">(</span><span class="n">exampleFunction</span> <span class="n">key</span><span class="p">)</span>
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">key</span></code> and <code class="docutils literal notranslate"><span class="pre">maintainer</span></code> keywords.</p>
</li>
<li><p class="first">This feature lets you specify a “key” that you can use to uniquely identify this contract as an instance of this template.</p>
</li>
<li><p class="first">If you specify a <code class="docutils literal notranslate"><span class="pre">key</span></code>, you must also specify a <code class="docutils literal notranslate"><span class="pre">maintainer</span></code>. This is a <code class="docutils literal notranslate"><span class="pre">Party</span></code> that will ensure the uniqueness of all the keys it is aware of.</p>
<p>Because of this, the <code class="docutils literal notranslate"><span class="pre">key</span></code> must include the <code class="docutils literal notranslate"><span class="pre">maintainer</span></code> <code class="docutils literal notranslate"><span class="pre">Party</span></code> or parties (for example, as part of a tuple or record), and the <code class="docutils literal notranslate"><span class="pre">maintainer</span></code> must be a signatory.</p>
</li>
<li><p class="first">For a full explanation, see <a class="reference internal" href="contract-keys.html"><span class="doc">Contract keys</span></a>.</p>
</li>
</ul>
</div>
</div>


              
            </div>
            
            
              <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="structure.html" class="da-btn da-btn-label btn-prev" title="Overview: template structure" accesskey="p" rel="prev">Previous</a>
      
      
        <a href="choices.html" class="da-btn da-btn-label btn-next" title="Reference: choices" accesskey="n" rel="next">Next</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. Any unauthorized use, duplication or distribution is strictly prohibited. &#34;Digital Asset&#34; and &#34;Daml&#34; are Registered in the U.S. Patent and Trademark Office.

    </p>
  </div> 

</footer>
            
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->





  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.Navigation.enable(true);
      });
  </script>


  
    
  
  <div id="inpageContent"></div>
  

</body>
</html>