<!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>JavaScript Code Generator &mdash; Daml SDK __VERSION__ documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
  
  <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
  <script type="text/javascript" src="../../_static/jquery.js"></script>
  <script type="text/javascript" src="../../_static/underscore.js"></script>
  <script type="text/javascript" src="../../_static/doctools.js"></script>
  <script type="text/javascript" src="../../_static/language_data.js"></script>
  <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/copybutton.js"></script>
  
  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="next" title="@daml/react" href="daml-react.html" />
  <link rel="prev" title="JavaScript Client Libraries" href="index.html" /> 

  
  <link rel="icon" type="image/svg+xml"  href="../../_static/images/daml-logo-mark-light.svg">
  <link rel="alternate icon" href="../../_static/images/daml-favicon-1.ico">

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MSWJMNX');</script>
  <!-- End Google Tag Manager -->

  
  <!-- Mopinion Pastea.se  start --><script type="text/javascript">(function(){var id="4s6vwov7ad6qyxhq8iwbyhocrsn2nm36k25";var js=document.createElement("script");js.setAttribute("type","text/javascript");js.setAttribute("src","//deploy.mopinion.com/js/pastease.js");js.async=true;document.getElementsByTagName("head")[0].appendChild(js);var t=setInterval(function(){try{new Pastease.load(id);clearInterval(t)}catch(e){}},50)})();</script><!-- Mopinion Pastea.se end -->
</head>

<body class="wy-body-for-nav">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MSWJMNX"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-nav-side-shadow"></div>
      <div class="wy-side-scroll">

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
          
          
          
          
          
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Daml Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/installation.html">Installing the SDK</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/path-variables.html">Setting JAVA_HOME and PATH variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/manual-download.html">Manually installing the SDK</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Building Your App</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/app-architecture.html">App Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/first-feature.html">Your First Feature</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.daml.com/cheat-sheet">Cheat Sheet</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Daml</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../daml/intro/0_Intro.html">An introduction to Daml</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/1_Token.html">1 Basic contracts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/2_DamlScript.html">2 Testing templates using Daml Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/3_Data.html">3 Data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/4_Transformations.html">4 Transforming data using choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/5_Restrictions.html">5 Adding constraints to a contract</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/6_Parties.html">6 Parties and authority</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/7_Composing.html">7 Composing choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/8_Exceptions.html">8 Exception Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/9_Dependencies.html">9 Working with Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/10_Functional101.html">10 Functional Programming 101</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/11_StdLib.html">11 Intro to the Daml Standard Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/intro/12_Testing.html">12 Testing Daml Contracts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml/reference/index.html">Language reference docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/structure.html">Overview: template structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/templates.html">Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/choices.html">Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/updates.html">Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/data-types.html">Data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/working-with.html">Built-in functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/expressions.html">Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/scenarios.html">Scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/file-structure.html">File structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/packages.html">Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/contract-keys.html">Contract keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/reference/exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../daml/patterns.html">Good design patterns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/initaccept.html">Initiate and Accept</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/multiparty-agreement.html">Multiple party agreement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/delegation.html">Delegation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/authorization.html">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/locking.html">Locking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../daml/patterns/locking/locking-by-archiving.html">Locking by archiving</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../daml/patterns/locking/locking-by-state.html">Locking by state</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../daml/patterns/locking/locking-by-safekeeping.html">Locking by safekeeping</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../daml/patterns/legends.html">Diagram legends</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Building applications</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../app-arch.html">Application architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">JavaScript Client Libraries</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">JavaScript Code Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="daml-react.html">&#64;daml/react</a></li>
<li class="toctree-l2"><a class="reference internal" href="daml-ledger.html">&#64;daml/ledger</a></li>
<li class="toctree-l2"><a class="reference internal" href="daml-types.html">&#64;daml/types</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html">Testing Your Web App</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/index.html">HTTP JSON API Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../json-api/lf-value-specification.html">Daml-LF JSON Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../json-api/search-query-language.html">Query language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../json-api/production-setup.html">Production Setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-script/index.html">Daml Script</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-repl/index.html">Daml REPL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrade/index.html">Upgrading and Extending Daml applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/extend.html">Extending Daml applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/upgrade.html">Upgrading Daml applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/automation.html">Automating the Upgrade Process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authorization.html">Authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ledger-api.html">The Ledger API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../services.html">The Ledger API services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grpc/index.html">gRPC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../grpc/error-codes.html">Error Codes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../grpc/daml-to-ledger-api.html">How Daml types are translated to protobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daml-lf-translation.html">How Daml types are translated to Daml-LF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings-java/index.html">Java bindings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../bindings-java/codegen.html">Generate Java code from Daml</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bindings-java/example.html">Ping Pong Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bindings-java/quickstart.html">Iou Quickstart Tutorial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bindings-scala/index.html">Scala bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings-js.html">Node.js bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bindings-x-lang/index.html">Creating your own bindings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../triggers/index.html">Daml Triggers - Off-Ledger Automation in Daml</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/trigger-service/index.html">Trigger Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/trigger-service/authorization.html">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/trigger-service/auth0_example.html">Auth0 Example Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/auth-middleware/index.html">Auth Middleware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/auth-middleware/oauth2.html">OAuth 2.0 Auth Middleware</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Deploying to Daml ledgers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/index.html">Overview of Daml ledgers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/generic_ledger.html">Deploying to a generic Daml ledger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/ledger-topologies.html">Daml Ledger Topologies</a></li>
</ul>
<p class="caption"><span class="caption-text">Operating Daml</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ops/index.html">Daml Participant pruning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ops/connect/index.html">Operating Daml Connect</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ops/connect/helm.html">Connect Helm Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ops/connect/auth0.html">Setting Up Auth0</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/assistant.html">Daml Assistant (<code class="docutils literal notranslate"><span class="pre">daml</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../daml/daml-studio.html">Daml Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/sandbox.html">Daml Sandbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/navigator/index.html">Navigator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/codegen.html">Daml codegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/profiler.html">Daml Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">Background concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/glossary.html">Glossary of concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/ledger-model/index.html">Daml Ledger Model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-structure.html">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-integrity.html">Integrity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-privacy.html">Privacy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-daml.html">Daml: Defining Contract Models Compactly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/identity-and-package-management.html">Identity and Package Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/time.html">Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/local-ledger.html">Causality and Local Ledgers</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://daml.com/examples">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Early Access Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/extractor.html">Extractor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/export/index.html">Ledger Export</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-integration-kit/index.html">Daml Integration Kit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/ledger-api-test-tool/index.html">Ledger API Test Tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/visual.html">Visualizing Daml Contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/interoperability.html">Ledger Interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/non-repudiation.html">Non-repudiation</a></li>
</ul>
<p class="caption"><span class="caption-text">Daml Ecosystem</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../support/overview.html">Daml Ecosystem Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../support/status-definitions.html">Status Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../support/component-statuses.html">Feature and Component Statuses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../support/releases.html">Releases and Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/compatibility.html">Portability, Compatibility, and Support Durations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/support.html">Getting Help</a></li>
</ul>

          
          
          
          <div class="pdf-download"><a href="../../_downloads/DigitalAssetSDK.pdf" download>Download as PDF</a></div>
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <div class="topbar fixed">
        
        <nav class="wy-nav-top" aria-label="top navigation">
          
          <i data-toggle="wy-nav-top" class="wy-nav-top-toggle"></i>
          
        </nav>
        <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="navbar">
    <h1><img src="../../_static/images/DAML_Logo_Blue.svg"></h1>
    <div class="navbar-menu">
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.daml.com/" role="menuitem" class="da-menu-link">Developers</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com/products" role="menuitem" class="da-menu-link">Products</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com" role="menuitem" class="da-menu-link">Company</a>
        </div>
    </div>
</div>

        <div class="version ">
          <span class="hide-mobile">Version&nbsp;</span><span class="version_switcher_placeholder"></span>
          
        </div>


        <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->
<div class="search-inline">
    <div id="rtd-search-inline-form" class="wy-form">
        <input type="text" class="search-inline-input" placeholder="Search" name="q">
        <img src="../../_static/images/Search.svg" class="search-inline-img"/>
    </div>
    <div class="search-alert">
        Please enter at least 3 letters.
    </div>
    <div id="search-inline-results" class="search-inline-results">
        
    </div>
</div>
          <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="content-menu collapsed">
    <span class="content-menu-title">In This Section</span>
    <span class="content-menu-expand"></span>
    <div class="content-menu-wrapper">
        
        <!-- Local TOC -->
        <div class="content-menu-toc"><ul>
<li><a class="reference internal" href="#">JavaScript Code Generator</a><ul>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#primitive-daml-types-daml-types">Primitive Daml types: &#64;daml/types</a></li>
<li><a class="reference internal" href="#daml-to-typescript-mappings">Daml to TypeScript mappings</a><ul>
<li><a class="reference internal" href="#records">Records</a></li>
<li><a class="reference internal" href="#variants">Variants</a></li>
<li><a class="reference internal" href="#sum-of-products">Sum-of-products</a></li>
<li><a class="reference internal" href="#enums">Enums</a></li>
<li><a class="reference internal" href="#templates-and-choices">Templates and choices</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
        
    </div>
</div>
        

      </div>
      <div class="wy-nav-content">
        
        <div class="rst-content">
          
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div itemprop="articleBody">
                
  <div class="section" id="javascript-code-generator">
<h1>JavaScript Code Generator<a class="headerlink" href="#javascript-code-generator" title="Permalink to this headline">¶</a></h1>
<p>The command <code class="docutils literal notranslate"><span class="pre">daml</span> <span class="pre">codegen</span> <span class="pre">js</span></code> generates JavaScript (and TypeScript) that can be used in conjunction with the <a class="reference external" href="../index">JavaScript Client Libraries</a> for interacting with a Daml ledger via the <a class="reference external" href="../json-api/index.html">HTTP JSON API</a>.</p>
<p>Inputs to the command are DAR files. Outputs are JavaScript packages with TypeScript typings containing metadata and types for all Daml packages included in the DAR files.</p>
<p>The generated packages use the library <a class="reference external" href="https://github.com/digital-asset/daml/tree/main/language-support/ts/daml-types">&#64;daml/types</a>.</p>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>In outline, the command to generate JavaScript and TypeScript typings from Daml is <code class="docutils literal notranslate"><span class="pre">daml</span> <span class="pre">codegen</span> <span class="pre">js</span> <span class="pre">-o</span> <span class="pre">OUTDIR</span> <span class="pre">DAR</span></code> where <code class="docutils literal notranslate"><span class="pre">DAR</span></code> is the path to a DAR file (generated via <code class="docutils literal notranslate"><span class="pre">daml</span> <span class="pre">build</span></code>) and <code class="docutils literal notranslate"><span class="pre">OUTDIR</span></code> is a directory where you want the artifacts to be written.</p>
<p>Here’s a complete example on a project built from the standard “skeleton” template.</p>
<div class="highlight-bash notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span>daml new my-proj --template skeleton <span class="c1"># Create a new project based off the skeleton template</span>
<span class="nb">cd</span> my-proj <span class="c1"># Enter the newly created project directory</span>
daml build  <span class="c1"># Compile the project&#39;s Daml files into a DAR</span>
daml codegen js -o daml.js .daml/dist/my-proj-0.0.1.dar <span class="c1"># Generate JavaScript packages in the daml.js directory</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>On execution of these commands:<ul>
<li>The directory <code class="docutils literal notranslate"><span class="pre">my-proj/daml.js</span></code> contains generated JavaScript packages with TypeScript typings;</li>
<li>The files are arranged into directories;</li>
<li>One of those directories will be named my-proj-0.0.1 and will contain the definitions corresponding to the Daml files in the project;</li>
<li>For example, <code class="docutils literal notranslate"><span class="pre">daml.js/my-proj-0.0.1/lib/index.js</span></code> provides access to the definitions for <code class="docutils literal notranslate"><span class="pre">daml/Main.daml</span></code>;</li>
<li>The remaining directories correspond to modules of the Daml standard library;</li>
<li>Those directories have numeric names (the names are hashes of the Daml-LF package they are derived from).</li>
</ul>
</li>
</ul>
<p>To get a quickstart idea of how to use what has been generated, you may wish to jump to the <a class="reference internal" href="#templates-and-choices">Templates and choices</a> section and return to the reference material that follows as needed.</p>
</div>
<div class="section" id="primitive-daml-types-daml-types">
<h2>Primitive Daml types: &#64;daml/types<a class="headerlink" href="#primitive-daml-types-daml-types" title="Permalink to this headline">¶</a></h2>
<p>To understand the TypeScript typings produced by the code generator, it is helpful to keep in mind this quick review of the TypeScript equivalents of the primitive Daml types provided by &#64;daml/types.</p>
<p><strong>Interfaces</strong>:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Template&lt;T</span> <span class="pre">extends</span> <span class="pre">object,</span> <span class="pre">K</span> <span class="pre">=</span> <span class="pre">unknown&gt;</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Choice&lt;T</span> <span class="pre">extends</span> <span class="pre">object,</span> <span class="pre">C,</span> <span class="pre">R,</span> <span class="pre">K</span> <span class="pre">=</span> <span class="pre">unknown&gt;</span></code></li>
</ul>
<p><strong>Types</strong>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="27%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Daml</th>
<th class="head">TypeScript</th>
<th class="head">TypeScript definition</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">()</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Unit</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Bool</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Bool</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">boolean</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">Int</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Int</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Decimal</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Decimal</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">Numeric</span> <span class="pre">ν</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Numeric</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Text</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Text</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">Time</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Time</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Party</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Party</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[τ]</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">List&lt;τ&gt;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">τ[]</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Date</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Date</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ContractId</span> <span class="pre">τ</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">ContractId&lt;τ&gt;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Optional</span> <span class="pre">τ</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Optional&lt;τ&gt;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">null</span> <span class="pre">|</span> <span class="pre">(null</span> <span class="pre">extends</span> <span class="pre">τ</span> <span class="pre">?</span></code>
<code class="docutils literal notranslate"><span class="pre">[]</span> <span class="pre">|</span> <span class="pre">[Exclude&lt;τ,</span> <span class="pre">null&gt;]</span> <span class="pre">:</span> <span class="pre">τ)</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">TextMap</span> <span class="pre">τ</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">TextMap&lt;τ&gt;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">[key:</span> <span class="pre">string]:</span> <span class="pre">τ</span> <span class="pre">}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">(τ₁,</span> <span class="pre">τ₂)</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">Tuple₂&lt;τ₁,</span> <span class="pre">τ₂&gt;</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{_1:</span> <span class="pre">τ₁;</span> <span class="pre">_2:</span> <span class="pre">τ₂}</span></code></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The types given in the “TypeScript” column are defined in &#64;daml/types.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For <em>n</em>-tuples where <em>n ≥ 3</em>, representation is analogous with the pair case (the last line of the table).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The TypeScript types <code class="docutils literal notranslate"><span class="pre">Time</span></code>, <code class="docutils literal notranslate"><span class="pre">Decimal</span></code>, <code class="docutils literal notranslate"><span class="pre">Numeric</span></code> and <code class="docutils literal notranslate"><span class="pre">Int</span></code> all alias to <code class="docutils literal notranslate"><span class="pre">string</span></code>. These choices relate to the avoidance of precision loss under serialization over the <a class="reference external" href="../json-api/index.html">json-api</a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The TypeScript definition of type <code class="docutils literal notranslate"><span class="pre">Optional&lt;τ&gt;</span></code> in the above table might look complicated. It accounts for differences in the encoding of optional values when nested versus when they are not (i.e. “top-level”). For example, <code class="docutils literal notranslate"><span class="pre">null</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;foo&quot;</span></code> are two possible values of <code class="docutils literal notranslate"><span class="pre">Optional&lt;Text&gt;</span></code> whereas, <code class="docutils literal notranslate"><span class="pre">[]</span></code> and <code class="docutils literal notranslate"><span class="pre">[&quot;foo&quot;]</span></code> are two possible values of type <code class="docutils literal notranslate"><span class="pre">Optional&lt;Optional&lt;Text&gt;&gt;</span></code> (<code class="docutils literal notranslate"><span class="pre">null</span></code> is another possible value, <code class="docutils literal notranslate"><span class="pre">[null]</span></code> is <strong>not</strong>).</p>
</div>
</div>
<div class="section" id="daml-to-typescript-mappings">
<h2>Daml to TypeScript mappings<a class="headerlink" href="#daml-to-typescript-mappings" title="Permalink to this headline">¶</a></h2>
<p>The mappings from Daml to TypeScript are best explained by example.</p>
<div class="section" id="records">
<h3>Records<a class="headerlink" href="#records" title="Permalink to this headline">¶</a></h3>
<p>In Daml, we might model a person like this.</p>
<div class="highlight-daml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">data</span> <span class="kt">Person</span> <span class="ow">=</span>
  <span class="kt">Person</span> <span class="kr">with</span>
    <span class="n">name</span><span class="kt">:</span> <span class="kt">Text</span>
    <span class="n">party</span><span class="kt">:</span> <span class="kt">Party</span>
    <span class="n">age</span><span class="kt">:</span> <span class="kt">Int</span>
</pre></div>
</td></tr></table></div>
<p>Given the above definition, the generated TypeScript code will be as follows.</p>
<div class="highlight-typescript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">type</span> <span class="nx">Person</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">party</span>: <span class="kt">daml.Party</span><span class="p">;</span>
  <span class="nx">age</span>: <span class="kt">daml.Int</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="variants">
<h3>Variants<a class="headerlink" href="#variants" title="Permalink to this headline">¶</a></h3>
<p>This is a Daml type for a language of additive expressions.</p>
<div class="highlight-daml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">data</span> <span class="kt">Expr</span> <span class="n">a</span> <span class="ow">=</span>
    <span class="kt">Lit</span> <span class="n">a</span>
  <span class="o">|</span> <span class="kt">Var</span> <span class="kt">Text</span>
  <span class="o">|</span> <span class="kt">Add</span> <span class="p">(</span><span class="kt">Expr</span> <span class="n">a</span><span class="p">,</span> <span class="kt">Expr</span> <span class="n">a</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>In TypeScript, it is represented as a <a class="reference external" href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions">discriminated union</a>.</p>
<div class="highlight-typescript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">type</span> <span class="nx">Expr</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">&gt;</span> <span class="o">=</span>
  <span class="o">|</span>  <span class="p">{</span> <span class="nx">tag</span><span class="o">:</span> <span class="s1">&#39;Lit&#39;</span><span class="p">;</span> <span class="nx">value</span>: <span class="kt">a</span> <span class="p">}</span>
  <span class="o">|</span>  <span class="p">{</span> <span class="nx">tag</span><span class="o">:</span> <span class="s1">&#39;Var&#39;</span><span class="p">;</span> <span class="nx">value</span>: <span class="kt">string</span> <span class="p">}</span>
  <span class="o">|</span>  <span class="p">{</span> <span class="nx">tag</span><span class="o">:</span> <span class="s1">&#39;Add&#39;</span><span class="p">;</span> <span class="nx">value</span><span class="o">:</span> <span class="p">{</span><span class="nx">_1</span>: <span class="kt">Expr</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">_2</span>: <span class="kt">Expr</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="sum-of-products">
<h3>Sum-of-products<a class="headerlink" href="#sum-of-products" title="Permalink to this headline">¶</a></h3>
<p>Let’s slightly modify the <code class="docutils literal notranslate"><span class="pre">Expr</span> <span class="pre">a</span></code> type of the last section into the following.</p>
<div class="highlight-daml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">data</span> <span class="kt">Expr</span> <span class="n">a</span> <span class="ow">=</span>
    <span class="kt">Lit</span> <span class="n">a</span>
  <span class="o">|</span> <span class="kt">Var</span> <span class="kt">Text</span>
  <span class="o">|</span> <span class="kt">Add</span> <span class="p">{</span><span class="n">lhs</span><span class="kt">:</span> <span class="kt">Expr</span> <span class="n">a</span><span class="p">,</span> <span class="n">rhs</span><span class="kt">:</span> <span class="kt">Expr</span> <span class="n">a</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Compared to the earlier definition, the <code class="docutils literal notranslate"><span class="pre">Add</span></code> case is now in terms of a record with fields <code class="docutils literal notranslate"><span class="pre">lhs</span></code> and <code class="docutils literal notranslate"><span class="pre">rhs</span></code>. This renders in TypeScript like so.</p>
<div class="highlight-typescript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">type</span> <span class="nx">Expr</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">&gt;</span> <span class="o">=</span>
  <span class="o">|</span>  <span class="p">{</span> <span class="nx">tag</span><span class="o">:</span> <span class="s1">&#39;Lit2&#39;</span><span class="p">;</span> <span class="nx">value</span>: <span class="kt">a</span> <span class="p">}</span>
  <span class="o">|</span>  <span class="p">{</span> <span class="nx">tag</span><span class="o">:</span> <span class="s1">&#39;Var2&#39;</span><span class="p">;</span> <span class="nx">value</span>: <span class="kt">string</span> <span class="p">}</span>
  <span class="o">|</span>  <span class="p">{</span> <span class="nx">tag</span><span class="o">:</span> <span class="s1">&#39;Add&#39;</span><span class="p">;</span> <span class="nx">value</span>: <span class="kt">Expr.Add</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">&gt;</span> <span class="p">}</span>

<span class="nx">namespace</span> <span class="nx">Expr</span> <span class="p">{</span>
  <span class="kd">type</span> <span class="nx">Add</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">lhs</span>: <span class="kt">Expr</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="nx">rhs</span>: <span class="kt">Expr</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The thing to note is how the definition of the <code class="docutils literal notranslate"><span class="pre">Add</span></code> case has given rise to a record type definition <code class="docutils literal notranslate"><span class="pre">Expr.Add</span></code>.</p>
</div>
<div class="section" id="enums">
<h3>Enums<a class="headerlink" href="#enums" title="Permalink to this headline">¶</a></h3>
<p>Given a Daml enumeration like this,</p>
<div class="highlight-daml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">data</span> <span class="kt">Color</span> <span class="ow">=</span> <span class="kt">Red</span> <span class="o">|</span> <span class="kt">Blue</span> <span class="o">|</span> <span class="kt">Yellow</span>
</pre></div>
</td></tr></table></div>
<p>the generated TypeScript will consist of a type declaration and the definition of an associated companion object.</p>
<div class="highlight-typescript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">type</span> <span class="nx">Color</span> <span class="o">=</span> <span class="s1">&#39;Red&#39;</span> <span class="o">|</span> <span class="s1">&#39;Blue&#39;</span> <span class="o">|</span> <span class="s1">&#39;Yellow&#39;</span>

<span class="kd">const</span> <span class="nx">Color</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">Red</span><span class="o">:</span> <span class="s1">&#39;Red&#39;</span><span class="p">,</span>
  <span class="nx">Blue</span><span class="o">:</span> <span class="s1">&#39;Blue&#39;</span><span class="p">,</span>
  <span class="nx">Yellow</span><span class="o">:</span> <span class="s1">&#39;Yellow&#39;</span><span class="p">,</span>
  <span class="nx">keys</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Red&#39;</span><span class="p">,</span><span class="s1">&#39;Blue&#39;</span><span class="p">,</span><span class="s1">&#39;Yellow&#39;</span><span class="p">],</span>
<span class="p">}</span> <span class="kr">as</span> <span class="kd">const</span><span class="p">;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="templates-and-choices">
<h3>Templates and choices<a class="headerlink" href="#templates-and-choices" title="Permalink to this headline">¶</a></h3>
<p>Here is a Daml template of a basic ‘IOU’ contract.</p>
<div class="highlight-daml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">template</span> <span class="kt">Iou</span>
  <span class="kr">with</span>
    <span class="n">issuer</span><span class="kt">:</span> <span class="kt">Party</span>
    <span class="n">owner</span><span class="kt">:</span> <span class="kt">Party</span>
    <span class="n">currency</span><span class="kt">:</span> <span class="kt">Text</span>
    <span class="n">amount</span><span class="kt">:</span> <span class="kt">Decimal</span>
  <span class="kr">where</span>
    <span class="kr">signatory</span> <span class="n">issuer</span>
    <span class="n">choice</span> <span class="kt">Transfer:</span> <span class="kt">ContractId</span> <span class="kt">Iou</span>
      <span class="kr">with</span>
        <span class="n">newOwner</span><span class="kt">:</span> <span class="kt">Party</span>
      <span class="kr">controller</span> <span class="n">owner</span>
      <span class="kr">do</span>
        <span class="n">create</span> <span class="kr">this</span> <span class="kr">with</span> <span class="n">owner</span> <span class="ow">=</span> <span class="n">newOwner</span>
</pre></div>
</td></tr></table></div>
<p>The <code class="docutils literal notranslate"><span class="pre">daml</span> <span class="pre">codegen</span> <span class="pre">js</span></code> command generates types for each of the choices defined on the template as well as the template itself.</p>
<div class="highlight-typescript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">type</span> <span class="nx">Transfer</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">newOwner</span>: <span class="kt">daml.Party</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">Iou</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">issuer</span>: <span class="kt">daml.Party</span><span class="p">;</span>
  <span class="nx">owner</span>: <span class="kt">daml.Party</span><span class="p">;</span>
  <span class="nx">currency</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">amount</span>: <span class="kt">daml.Numeric</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Each template results in the generation of a companion object. Here, is a schematic of the one generated from the <code class="docutils literal notranslate"><span class="pre">Iou</span></code> template <a class="footnote-reference" href="#id2" id="id1">[2]</a>.</p>
<div class="highlight-typescript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">Iou</span>: <span class="kt">daml.Template</span><span class="o">&lt;</span><span class="nx">Iou</span><span class="p">,</span> <span class="kc">undefined</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="p">{</span>
  <span class="nx">Archive</span>: <span class="kt">daml.Choice</span><span class="o">&lt;</span><span class="nx">Iou</span><span class="p">,</span> <span class="nx">DA_Internal_Template</span><span class="p">.</span><span class="nx">Archive</span><span class="p">,</span> <span class="p">{},</span> <span class="kc">undefined</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">Transfer</span>: <span class="kt">daml.Choice</span><span class="o">&lt;</span><span class="nx">Iou</span><span class="p">,</span> <span class="nx">Transfer</span><span class="p">,</span> <span class="nx">daml</span><span class="p">.</span><span class="nx">ContractId</span><span class="o">&lt;</span><span class="nx">Iou</span><span class="o">&gt;</span><span class="p">,</span> <span class="kc">undefined</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span> <span class="o">=</span> <span class="p">{</span>
  <span class="cm">/* ... */</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[2]</a></td><td>The <code class="docutils literal notranslate"><span class="pre">undefined</span></code> type parameter captures the fact that <code class="docutils literal notranslate"><span class="pre">Iou</span></code> has no contract key.</td></tr>
</tbody>
</table>
<p>The exact details of these companion objects are not important - think of them as representing “metadata”.</p>
<p>What <strong>is</strong> important is the use of the companion objects when creating contracts and exercising choices using the <a class="reference external" href="https://github.com/digital-asset/daml/tree/main/language-support/ts/daml-ledger">&#64;daml/ledger</a> package. The following code snippet demonstrates their usage.</p>
<div class="highlight-typescript notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nx">Ledger</span> <span class="k">from</span>  <span class="s1">&#39;@daml/ledger&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">Iou</span><span class="p">,</span> <span class="nx">Transfer</span><span class="p">}</span> <span class="k">from</span> <span class="cm">/* ... */</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">ledger</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Ledger</span><span class="p">(</span><span class="cm">/* ... */</span><span class="p">);</span>

<span class="c1">// Contract creation; Bank issues Alice a USD $1MM IOU.</span>

<span class="kd">const</span> <span class="nx">iouDetails</span>: <span class="kt">Iou</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">issuer</span><span class="o">:</span> <span class="s1">&#39;Chase&#39;</span><span class="p">,</span>
  <span class="nx">owner</span><span class="o">:</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span>
  <span class="nx">currency</span><span class="o">:</span> <span class="s1">&#39;USD&#39;</span><span class="p">,</span>
  <span class="nx">amount</span>: <span class="kt">1000000.0</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">aliceIouCreateEvent</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">ledger</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Iou</span><span class="p">,</span> <span class="nx">iouDetails</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">aliceIouContractId</span> <span class="o">=</span> <span class="nx">aliceIouCreateEvent</span><span class="p">.</span><span class="nx">contractId</span><span class="p">;</span>

<span class="c1">// Choice execution; Alice transfers ownership of the IOU to Bob.</span>

<span class="kd">const</span> <span class="nx">transferDetails</span>: <span class="kt">Transfer</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">newOwner</span><span class="o">:</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="kd">const</span> <span class="p">[</span><span class="nx">bobIouContractId</span><span class="p">,</span> <span class="nx">_</span><span class="p">]</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">ledger</span><span class="p">.</span><span class="nx">exercise</span><span class="p">(</span><span class="nx">Transfer</span><span class="p">,</span> <span class="nx">aliceIouContractId</span><span class="p">,</span> <span class="nx">transferDetails</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Observe on line 14, the first argument to <code class="docutils literal notranslate"><span class="pre">create</span></code> is the <code class="docutils literal notranslate"><span class="pre">Iou</span></code> companion object and on line 22, the first argument to <code class="docutils literal notranslate"><span class="pre">exercise</span></code> is the <code class="docutils literal notranslate"><span class="pre">Transfer</span></code> companion object.</p>
</div>
</div>
</div>


              
            </div>
            
            
              <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="index.html" class="da-btn da-btn-label btn-prev" title="JavaScript Client Libraries" accesskey="p" rel="prev">Previous</a>
      
      
        <a href="daml-react.html" class="da-btn da-btn-label btn-next" title="@daml/react" accesskey="n" rel="next">Next</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. Any unauthorized use, duplication or distribution is strictly prohibited. &#34;Digital Asset&#34; and &#34;Daml&#34; are Registered in the U.S. Patent and Trademark Office.

    </p>
  </div> 

</footer>
            
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->





  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.Navigation.enable(true);
      });
  </script>


  
    
  
  <div id="inpageContent"></div>
  

</body>
</html>